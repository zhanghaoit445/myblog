---
layout: post
title: "新浪云的基本配置"
date: 2016-06-01
author: "Hsz"
tags:
    - 新浪云
    - web服务
header-img: "img/post-bg-js-module.jpg"
---

# 新浪云的基本配置

## python应用基本步骤

咱以一个helloworld来做例子部署一个flask应用
### 先在新浪云上新建个app

1. 在个人账户下新建一个app
2. cd到希望新建app文件本地库的地方 执行
        svn co https://svn.sinaapp.com/app名字
这样可以在目录下新建一个名为app名字的空文件夹。
过程中首先会要求输入本地当前账户的密码，然后输入安全邮箱作为user
安全密码作为password

### 本地调试代码

1. 可以在app本地库里面新建一个数字1到10间命名的文件夹，该数字就是这个app
的版本。默认版本为1
2. 创建配置文件`config.yaml`内容如下：

        name: helloworld
        version: 1
3. 创建启动文件`index.wsgi`内容如下：

        import sae
        from myapp import app

        application = sae.create_wsgi_app(app)

4. 创建主体文件`myapp.py`内容如下：

        from flask import Flask,render_template

        app = Flask(__name__)

        @app.route('/')
        def index():
            return render_template('index.html')

        @app.route('/user/<name>')
        def user(name):
            return render_template('user.html', name=name)

        if __name__ == '__main__':
            app.run(debug=True)

5. 新建一个叫`templates`的文件夹，用来放两个html文件：

其中`index.html`内容如下：

        <h1>hello!</h1>

`user.html`内容如下：

        <h1>hello,{{ name }}!</h1>

*于是你的文件结构如下:*

        appname|
               |-1|
                  |-config.yaml
                  |-index.wsgi
                  |-myapp.py
                  |-templates|
                             |-index.html
                             |-user.html


### 现在本地试下
shell里cd到1下，`python myapp.py`然后打开浏览器，地址栏输入`localhost:5000`看看报错不


### 好了上传到sae吧～

cd到你的项目本地库，执行

        svn add ./

然后

        svn commit -m "描述的话"


这样就算完成了

## 常用的svn命令

+ `svn co path`/`svn checkout path`--用来对path目标仓库在本地建立本地库及对应working copy(wp)
+ `svn add path`--用来将本地库中的文件添加到wp
+ `svn delete path`--删除wp中的文件
+ `svn commit -m "XXX"` --把你WC的更改提交到仓库
+ `svn update` --更新仓库版本
